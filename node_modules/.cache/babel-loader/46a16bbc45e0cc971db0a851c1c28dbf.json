{"ast":null,"code":"import _objectWithoutProperties from\"D:/Repositories/Visual C++/PosThis-React-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _toConsumableArray from\"D:/Repositories/Visual C++/PosThis-React-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"D:/Repositories/Visual C++/PosThis-React-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from'react';import{makeStyles}from'@material-ui/core/styles';import Grid from'@material-ui/core/Grid';import CancelIcon from'@material-ui/icons/Cancel';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useMediaGridStyles=makeStyles(function(theme){return{gridHeight:{height:'400px',overflow:'hidden',borderRadius:theme.spacing(1)}};});var useSubgridStyles=makeStyles(function(theme){return{subgridFull:{display:'flex',width:'100%',height:'100%',flexDirection:'column'},subgridHalf:{display:'flex',width:'50%',height:'100%',flexDirection:'column'},subGridNone:{display:'none'}};});var useMediaContainerStyles=makeStyles(function(theme){return{mediaContainer:{position:'relative',display:'inline-block',flex:'1 1 0',width:'100%',height:'100%',overflow:'hidden',backgroundColor:'#333333'},mediaFit:{display:'inline-block',width:'100%',height:'100%',objectFit:'cover'},deleteIcon:{position:'absolute',top:0,right:0,color:'red','&:hover':{color:'white'}}};});var MediaContainer=function MediaContainer(props){var media=props.media,state=props.state,setState=props.setState;var classes=useMediaContainerStyles();var onClickDelete=function onClickDelete(){var index=state.medias.indexOf(media);if(index===-1)return;setState(function(x){var copy=_objectSpread({},x);copy.deleted=[].concat(_toConsumableArray(copy.deleted),[copy.medias[index].mediaID]);copy.medias=copy.medias.filter(function(elem,i){return i!==index;});return copy;});};return/*#__PURE__*/_jsxs(\"div\",{className:classes.mediaContainer,children:[media.isVideo?/*#__PURE__*/_jsx(\"video\",{className:classes.mediaFit,controls:true,children:/*#__PURE__*/_jsx(\"source\",{src:media.path,type:media.mime})}):/*#__PURE__*/_jsx(\"img\",{src:media.path,className:classes.mediaFit}),state.editMode&&/*#__PURE__*/_jsx(CancelIcon,{className:classes.deleteIcon,onClick:onClickDelete})]});};var SubGrid=function SubGrid(props){var children=props.children,size=props.size;var classes=useSubgridStyles();if(children.length===0)return/*#__PURE__*/_jsx(_Fragment,{});var subgridClass;switch(size){case'f':subgridClass=classes.subgridFull;break;case'h':subgridClass=classes.subgridHalf;break;case'n':subgridClass=classes.subGridNone;break;}return/*#__PURE__*/_jsx(\"div\",{className:subgridClass,children:children});};export var MediaGrid=function MediaGrid(props){var classes=useMediaGridStyles();var media=props.media,temp=_objectWithoutProperties(props,[\"media\"]);if((media===null||media===void 0?void 0:media.length)===0)return/*#__PURE__*/_jsx(_Fragment,{});var n=media.length;return/*#__PURE__*/_jsxs(Grid,{container:true,className:classes.gridHeight,children:[/*#__PURE__*/_jsxs(SubGrid,{size:n===1?'f':'h',children:[media[0]&&/*#__PURE__*/_jsx(MediaContainer,_objectSpread({media:media[0]},temp)),n===4&&media[2]&&/*#__PURE__*/_jsx(MediaContainer,_objectSpread({media:media[2]},temp))]}),/*#__PURE__*/_jsxs(SubGrid,{size:n>1?'h':'n',children:[n>1&&media[1]&&/*#__PURE__*/_jsx(MediaContainer,_objectSpread({media:media[1]},temp)),n>2&&(n===3?media[2]:media[3])&&/*#__PURE__*/_jsx(MediaContainer,_objectSpread({media:n===3?media[2]:media[3]},temp))]})]});};export default MediaGrid;","map":{"version":3,"sources":["D:/Repositories/Visual C++/PosThis-React-app/src/components/Media/MediaGrid.js"],"names":["React","makeStyles","Grid","CancelIcon","useMediaGridStyles","theme","gridHeight","height","overflow","borderRadius","spacing","useSubgridStyles","subgridFull","display","width","flexDirection","subgridHalf","subGridNone","useMediaContainerStyles","mediaContainer","position","flex","backgroundColor","mediaFit","objectFit","deleteIcon","top","right","color","MediaContainer","props","media","state","setState","classes","onClickDelete","index","medias","indexOf","x","copy","deleted","mediaID","filter","elem","i","isVideo","path","mime","editMode","SubGrid","children","size","length","subgridClass","MediaGrid","temp","n"],"mappings":"ogBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,UAAT,KAA6B,0BAA7B,CACA,MAAOC,CAAAA,IAAP,KAA6B,wBAA7B,CACA,MAAOC,CAAAA,UAAP,KAA6B,2BAA7B,C,6IAEA,GAAMC,CAAAA,kBAAkB,CAAGH,UAAU,CAAC,SAACI,KAAD,QAAU,CAC9CC,UAAU,CAAE,CACVC,MAAM,CAAE,OADE,CAEVC,QAAQ,CAAE,QAFA,CAGVC,YAAY,CAAEJ,KAAK,CAACK,OAAN,CAAc,CAAd,CAHJ,CADkC,CAAV,EAAD,CAArC,CAQA,GAAMC,CAAAA,gBAAgB,CAAGV,UAAU,CAAC,SAACI,KAAD,QAAY,CAC9CO,WAAW,CAAC,CACVC,OAAO,CAAG,MADA,CAEVC,KAAK,CAAK,MAFA,CAGVP,MAAM,CAAI,MAHA,CAIVQ,aAAa,CAAE,QAJL,CADkC,CAO9CC,WAAW,CAAC,CACVH,OAAO,CAAG,MADA,CAEVC,KAAK,CAAK,KAFA,CAGVP,MAAM,CAAI,MAHA,CAIVQ,aAAa,CAAE,QAJL,CAPkC,CAa9CE,WAAW,CAAC,CACVJ,OAAO,CAAE,MADC,CAbkC,CAAZ,EAAD,CAAnC,CAkBA,GAAMK,CAAAA,uBAAuB,CAAEjB,UAAU,CAAC,SAACI,KAAD,QAAY,CACpDc,cAAc,CAAC,CACbC,QAAQ,CAAU,UADL,CAEbP,OAAO,CAAW,cAFL,CAGbQ,IAAI,CAAc,OAHL,CAIbP,KAAK,CAAa,MAJL,CAKbP,MAAM,CAAY,MALL,CAMbC,QAAQ,CAAU,QANL,CAObc,eAAe,CAAG,SAPL,CADqC,CAUpDC,QAAQ,CAAE,CACRV,OAAO,CAAK,cADJ,CAERC,KAAK,CAAO,MAFJ,CAGRP,MAAM,CAAM,MAHJ,CAIRiB,SAAS,CAAG,OAJJ,CAV0C,CAgBpDC,UAAU,CAAC,CACTL,QAAQ,CAAE,UADD,CAETM,GAAG,CAAO,CAFD,CAGTC,KAAK,CAAK,CAHD,CAITC,KAAK,CAAK,KAJD,CAKT,UAAW,CACTA,KAAK,CAAE,OADE,CALF,CAhByC,CAAZ,EAAD,CAAzC,CA4BA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,CAAW,IAExBC,CAAAA,KAFwB,CAEGD,KAFH,CAExBC,KAFwB,CAEjBC,KAFiB,CAEGF,KAFH,CAEjBE,KAFiB,CAEVC,QAFU,CAEGH,KAFH,CAEVG,QAFU,CAGhC,GAAMC,CAAAA,OAAO,CAAGhB,uBAAuB,EAAvC,CAEA,GAAMiB,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAI,CACxB,GAAMC,CAAAA,KAAK,CAAGJ,KAAK,CAACK,MAAN,CAAaC,OAAb,CAAqBP,KAArB,CAAd,CACA,GAAKK,KAAK,GAAK,CAAC,CAAhB,CACE,OAEFH,QAAQ,CAAE,SAAAM,CAAC,CAAG,CACZ,GAAIC,CAAAA,IAAI,kBAAOD,CAAP,CAAR,CACAC,IAAI,CAACC,OAAL,8BAAmBD,IAAI,CAACC,OAAxB,GAAiCD,IAAI,CAACH,MAAL,CAAYD,KAAZ,EAAmBM,OAApD,GACAF,IAAI,CAACH,MAAL,CAAcG,IAAI,CAACH,MAAL,CAAYM,MAAZ,CAAmB,SAACC,IAAD,CAAOC,CAAP,QAAYA,CAAAA,CAAC,GAAKT,KAAlB,EAAnB,CAAd,CACA,MAAOI,CAAAA,IAAP,CACD,CALO,CAAR,CAMD,CAXD,CAaA,mBACE,aAAK,SAAS,CAAEN,OAAO,CAACf,cAAxB,WAEIY,KAAK,CAACe,OAAN,cAEE,cAAO,SAAS,CAAEZ,OAAO,CAACX,QAA1B,CAAoC,QAAQ,KAA5C,uBACI,eAAQ,GAAG,CAAEQ,KAAK,CAACgB,IAAnB,CAAyB,IAAI,CAAEhB,KAAK,CAACiB,IAArC,EADJ,EAFF,cAOC,YAAK,GAAG,CAAEjB,KAAK,CAACgB,IAAhB,CAAsB,SAAS,CAAEb,OAAO,CAACX,QAAzC,EATL,CAYIS,KAAK,CAACiB,QAAN,eACE,KAAC,UAAD,EAAY,SAAS,CAAEf,OAAO,CAACT,UAA/B,CAA2C,OAAO,CAAEU,aAApD,EAbN,GADF,CAkBD,CApCD,CAsCA,GAAMe,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAAEpB,KAAF,CAAa,IAEpBqB,CAAAA,QAFoB,CAEFrB,KAFE,CAEpBqB,QAFoB,CAEVC,IAFU,CAEFtB,KAFE,CAEVsB,IAFU,CAG3B,GAAMlB,CAAAA,OAAO,CAAGvB,gBAAgB,EAAhC,CAEA,GAAGwC,QAAQ,CAACE,MAAT,GAAoB,CAAvB,CACE,mBAAQ,kBAAR,CAEF,GAAIC,CAAAA,YAAJ,CACA,OAAQF,IAAR,EACE,IAAK,GAAL,CACEE,YAAY,CAAGpB,OAAO,CAACtB,WAAvB,CACA,MACF,IAAK,GAAL,CACE0C,YAAY,CAAGpB,OAAO,CAAClB,WAAvB,CACA,MACF,IAAK,GAAL,CACEsC,YAAY,CAAGpB,OAAO,CAACjB,WAAvB,CACA,MATJ,CAYA,mBACE,YAAK,SAAS,CAAEqC,YAAhB,UACGH,QADH,EADF,CAKD,CA1BD,CA4BA,MAAO,IAAMI,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAEzB,KAAF,CAAa,CAEpC,GAAMI,CAAAA,OAAO,CAAG9B,kBAAkB,EAAlC,CAFoC,GAG5B2B,CAAAA,KAH4B,CAGTD,KAHS,CAG5BC,KAH4B,CAGlByB,IAHkB,0BAGT1B,KAHS,YAKpC,GAAK,CAAAC,KAAK,OAAL,EAAAA,KAAK,SAAL,QAAAA,KAAK,CAAEsB,MAAP,IAAkB,CAAvB,CACE,mBAAQ,kBAAR,CAEF,GAAMI,CAAAA,CAAC,CAAG1B,KAAK,CAACsB,MAAhB,CAEA,mBACE,MAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,SAAS,CAAEnB,OAAO,CAAC5B,UAAnC,wBACE,MAAC,OAAD,EAAS,IAAI,CAAGmD,CAAC,GAAK,CAAN,CAAU,GAAV,CAAgB,GAAhC,WACI1B,KAAK,CAAC,CAAD,CAAL,eAA2B,KAAC,cAAD,gBAAgB,KAAK,CAAEA,KAAK,CAAC,CAAD,CAA5B,EAAqCyB,IAArC,EAD/B,CAEMC,CAAC,GAAK,CAAN,EAAW1B,KAAK,CAAC,CAAD,CAAlB,eAA2B,KAAC,cAAD,gBAAgB,KAAK,CAAEA,KAAK,CAAC,CAAD,CAA5B,EAAqCyB,IAArC,EAF/B,GADF,cAKE,MAAC,OAAD,EAAS,IAAI,CAAGC,CAAC,CAAG,CAAJ,CAAQ,GAAR,CAAc,GAA9B,WACMA,CAAC,CAAG,CAAJ,EAAS1B,KAAK,CAAC,CAAD,CAAhB,eAA2B,KAAC,cAAD,gBAAgB,KAAK,CAAEA,KAAK,CAAC,CAAD,CAA5B,EAAqCyB,IAArC,EAD/B,CAEMC,CAAC,CAAG,CAAJ,GAAWA,CAAC,GAAK,CAAN,CAAU1B,KAAK,CAAC,CAAD,CAAf,CAAqBA,KAAK,CAAC,CAAD,CAArC,CAAF,eAAiD,KAAC,cAAD,gBAAgB,KAAK,CAAG0B,CAAC,GAAK,CAAN,CAAU1B,KAAK,CAAC,CAAD,CAAf,CAAqBA,KAAK,CAAC,CAAD,CAAlD,EAA2DyB,IAA3D,EAFrD,GALF,GADF,CAYD,CAtBM,CAwBP,cAAeD,CAAAA,SAAf","sourcesContent":["import React from 'react';\r\n\r\nimport { makeStyles }   from '@material-ui/core/styles';\r\nimport Grid             from '@material-ui/core/Grid';\r\nimport CancelIcon       from '@material-ui/icons/Cancel';\r\n\r\nconst useMediaGridStyles = makeStyles((theme)=>({\r\n  gridHeight: {\r\n    height: '400px',\r\n    overflow: 'hidden',\r\n    borderRadius: theme.spacing(1)\r\n  },\r\n}));\r\n\r\nconst useSubgridStyles = makeStyles((theme) => ({\r\n  subgridFull:{\r\n    display:  'flex',\r\n    width:    '100%',\r\n    height:   '100%',\r\n    flexDirection: 'column'\r\n  },\r\n  subgridHalf:{\r\n    display:  'flex',\r\n    width:    '50%',\r\n    height:   '100%',\r\n    flexDirection: 'column'\r\n  },\r\n  subGridNone:{\r\n    display: 'none'\r\n  }\r\n}));\r\n\r\nconst useMediaContainerStyles= makeStyles((theme) => ({\r\n  mediaContainer:{\r\n    position:         'relative',\r\n    display:          'inline-block',\r\n    flex:             '1 1 0',\r\n    width:            '100%',\r\n    height:           '100%',\r\n    overflow:         'hidden',\r\n    backgroundColor:  '#333333'\r\n  },\r\n  mediaFit: {\r\n    display:    'inline-block',\r\n    width:      '100%',\r\n    height:     '100%',\r\n    objectFit:  'cover'\r\n  },\r\n  deleteIcon:{\r\n    position: 'absolute',\r\n    top:      0,\r\n    right:    0,\r\n    color:    'red',\r\n    '&:hover': {\r\n      color: 'white'\r\n    },\r\n    \r\n  }\r\n}));\r\n\r\nconst MediaContainer = (props) => {\r\n\r\n  const { media, state, setState } = props;\r\n  const classes = useMediaContainerStyles();\r\n\r\n  const onClickDelete = ()=>{\r\n    const index = state.medias.indexOf(media);\r\n    if ( index === -1 )\r\n      return;\r\n\r\n    setState( x =>{\r\n      let copy = {...x};\r\n      copy.deleted = [...copy.deleted, copy.medias[index].mediaID];\r\n      copy.medias = copy.medias.filter((elem, i)=> i !== index);\r\n      return copy;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={classes.mediaContainer}>\r\n      {\r\n        media.isVideo ?\r\n        (\r\n          <video className={classes.mediaFit} controls>\r\n              <source src={media.path} type={media.mime}/>\r\n          </video>\r\n        )\r\n        :\r\n        (<img src={media.path} className={classes.mediaFit}/>)\r\n      }\r\n      {\r\n        state.editMode &&\r\n          <CancelIcon className={classes.deleteIcon} onClick={onClickDelete}/>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nconst SubGrid = ( props ) => {\r\n\r\n  const {children, size} = props;\r\n  const classes = useSubgridStyles();\r\n\r\n  if(children.length === 0)\r\n    return (<></>);\r\n\r\n  let subgridClass;\r\n  switch( size ){\r\n    case 'f':\r\n      subgridClass = classes.subgridFull;\r\n      break;\r\n    case 'h':\r\n      subgridClass = classes.subgridHalf;\r\n      break;  \r\n    case 'n':\r\n      subgridClass = classes.subGridNone;\r\n      break;\r\n  }\r\n\r\n  return (\r\n    <div className={subgridClass}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const MediaGrid = ( props ) => {\r\n\r\n  const classes = useMediaGridStyles();\r\n  const { media, ...temp } = props;\r\n\r\n  if ( media?.length === 0 )\r\n    return (<></>);\r\n\r\n  const n = media.length;\r\n\r\n  return (\r\n    <Grid container className={classes.gridHeight}>\r\n      <SubGrid size={ n === 1 ? 'f' : 'h' }>\r\n        { media[0]                && <MediaContainer media={media[0]} {...temp}/>}\r\n        { ( n === 4 && media[2] ) && <MediaContainer media={media[2]} {...temp}/>}\r\n      </SubGrid>\r\n      <SubGrid size={ n > 1 ? 'h' : 'n' }>\r\n        { ( n > 1 && media[1] )   && <MediaContainer media={media[1]} {...temp}/>}\r\n        { ( n > 2 && ( n === 3 ? media[2] : media[3] )) && <MediaContainer media={ n === 3 ? media[2] : media[3]} {...temp}/>}\r\n      </SubGrid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default MediaGrid;"]},"metadata":{},"sourceType":"module"}