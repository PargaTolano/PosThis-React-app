{"ast":null,"code":"import _defineProperty from\"D:/Repositories/Visual C++/PosThis-React-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/Repositories/Visual C++/PosThis-React-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/Repositories/Visual C++/PosThis-React-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{makeStyles}from'@material-ui/core/styles';import{Avatar,Button,CssBaseline,TextField,FormControlLabel,Link,Grid,Box,Typography,Container}from'@material-ui/core';import{AccessibilityNewRounded as AccessibilityNewRoundedIcon}from'@material-ui/icons';import{handleResponse}from'_helpers';import{validateSignup}from'_utils';import{createUser}from'_api';import{SignUpModel}from'_model';import{authenticationService}from'_services';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{paper:{display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:'100%',marginTop:theme.spacing(3)},submit:{margin:theme.spacing(3,0,2)},fieldWarning:{color:'#ea5970',fontSize:'0.8rem',marginTop:theme.spacing(1)}};});export var SignUp=function SignUp(props){var handleClose=props.handleClose;var classes=useStyles();var _useState=useState({userName:'',tag:'',email:'',password:''}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState({userName:false,tag:false,email:false,password:false,validated:false}),_useState4=_slicedToArray(_useState3,2),validation=_useState4[0],setValidation=_useState4[1];var OnChangeInput=function OnChangeInput(e){setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();var model=new SignUpModel(state);createUser(model).then(handleResponse).then(handleClose).catch(console.warn).then(handleClose);};useEffect(function(){setValidation(validateSignup(state));},[state]);return/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,children:/*#__PURE__*/_jsx(AccessibilityNewRoundedIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h2\",variant:\"h5\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Reg\\xEDstrate\"})}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"\\xDAnete a la nueva comunidad de PosThis\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,noValidate:true,onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsx(TextField,{autoComplete:\"fname\",name:\"userName\",variant:\"outlined\",required:true,fullWidth:true,label:\"Username\",autoFocus:true,onChange:OnChangeInput}),!validation.userName&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",className:classes.fieldWarning,children:\"* Nombre de usuario no valido\"})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",required:true,fullWidth:true,label:\"Tag\",name:\"tag\",autoComplete:\"tagname\",onChange:OnChangeInput}),!validation.tag&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",className:classes.fieldWarning,children:\"* Tag no valido\"})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",required:true,fullWidth:true,id:\"email\",label:\"Email\",name:\"email\",autoComplete:\"email\",onChange:OnChangeInput}),!validation.email&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",className:classes.fieldWarning,children:\"* Email no valido\"})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",required:true,fullWidth:true,name:\"password\",label:\"Contrase\\xF1a\",type:\"password\",autoComplete:\"current-password\",onChange:OnChangeInput}),!validation.password&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",className:classes.fieldWarning,children:\"* Contrase\\xF1a no valida\"})]})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"secondary\",className:classes.submit,disabled:!validation.validated,children:\"Reg\\xEDstrate ahora\"})]})]})]});};export default SignUp;","map":{"version":3,"sources":["D:/Repositories/Visual C++/PosThis-React-app/src/components/Registro/Signup.js"],"names":["React","useState","useEffect","makeStyles","Avatar","Button","CssBaseline","TextField","FormControlLabel","Link","Grid","Box","Typography","Container","AccessibilityNewRounded","AccessibilityNewRoundedIcon","handleResponse","validateSignup","createUser","SignUpModel","authenticationService","useStyles","theme","paper","display","flexDirection","alignItems","avatar","margin","spacing","backgroundColor","palette","secondary","main","form","width","marginTop","submit","fieldWarning","color","fontSize","SignUp","props","handleClose","classes","userName","tag","email","password","state","setState","validated","validation","setValidation","OnChangeInput","e","target","name","value","onSubmit","preventDefault","model","then","catch","console","warn"],"mappings":"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","sourcesContent":["import React,{ useState, useEffect } from 'react';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport {\r\n    Avatar,\r\n    Button,\r\n    CssBaseline,\r\n    TextField,\r\n    FormControlLabel,\r\n    Link,\r\n    Grid,\r\n    Box,\r\n    Typography,\r\n    Container,\r\n}from  '@material-ui/core';\r\n\r\nimport { \r\n  AccessibilityNewRounded as AccessibilityNewRoundedIcon \r\n} from '@material-ui/icons';\r\n\r\nimport { handleResponse } from '_helpers';\r\nimport { validateSignup } from '_utils';\r\nimport { createUser }     from '_api';\r\n\r\nimport { SignUpModel }    from '_model';\r\nimport { authenticationService } from '_services';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', \r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  fieldWarning:{\r\n    color: '#ea5970',\r\n    fontSize: '0.8rem',\r\n    marginTop: theme.spacing(1)\r\n  }\r\n}));\r\n\r\nexport const SignUp = (props)=>{\r\n\r\n  const { handleClose } = props;\r\n  const classes = useStyles();\r\n\r\n  const [state, setState] = useState({\r\n      userName: '',\r\n      tag: '',\r\n      email: '',\r\n      password:''\r\n  });\r\n\r\n  const [ validation, setValidation] = useState({\r\n    userName:   false,\r\n    tag:        false,\r\n    email:      false,\r\n    password:   false,\r\n    validated:  false,\r\n  });\r\n\r\n  const OnChangeInput = (e) =>{\r\n    setState({\r\n      ...state,\r\n      [e.target.name] : e.target.value\r\n    });\r\n  }\r\n\r\n  const onSubmit = (e) =>{\r\n    \r\n    e.preventDefault();\r\n\r\n    const model = new SignUpModel(state);\r\n\r\n    createUser(model)\r\n    .then( handleResponse)\r\n    .then( handleClose )\r\n    .catch(console.warn)\r\n    .then( handleClose );\r\n  };\r\n\r\n  useEffect(() => {\r\n    setValidation( validateSignup( state ) );\r\n  }, [state]);\r\n\r\n  return (\r\n    <Container component='main' maxWidth='xs'>\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n\r\n        <Avatar className={classes.avatar}>\r\n          <AccessibilityNewRoundedIcon/>\r\n        </Avatar>\r\n\r\n        <Typography component='h2' variant='h5'>\r\n          <strong>Regístrate</strong>\r\n        </Typography>\r\n\r\n        <Typography variant='body2'>\r\n          Únete a la nueva comunidad de PosThis\r\n        </Typography>\r\n\r\n        <form className={classes.form} noValidate onSubmit = {onSubmit}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                autoComplete='fname'\r\n                name='userName'\r\n                variant='outlined'\r\n                required\r\n                fullWidth\r\n                label='Username'\r\n                autoFocus\r\n                onChange = {OnChangeInput}\r\n              />\r\n              {\r\n                !validation.userName\r\n                && \r\n                <Typography variant='body2' className={classes.fieldWarning}>\r\n                * Nombre de usuario no valido\r\n                </Typography>\r\n              }\r\n            </Grid>\r\n            \r\n\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant='outlined'\r\n                required\r\n                fullWidth\r\n                label='Tag'\r\n                name='tag'\r\n                autoComplete='tagname'\r\n                onChange = {OnChangeInput}\r\n              />\r\n              {\r\n                !validation.tag\r\n                && \r\n                <Typography variant='body2' className={classes.fieldWarning}>\r\n                * Tag no valido\r\n                </Typography>\r\n              }\r\n            </Grid>\r\n            \r\n\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant='outlined'\r\n                required\r\n                fullWidth\r\n                id='email'\r\n                label='Email'\r\n                name='email'\r\n                autoComplete='email'\r\n                onChange = {OnChangeInput}\r\n              />\r\n              {\r\n                !validation.email\r\n                && \r\n                <Typography variant='body2' className={classes.fieldWarning}>\r\n                * Email no valido\r\n                </Typography>\r\n              }\r\n            </Grid>\r\n            \r\n\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant='outlined'\r\n                required\r\n                fullWidth\r\n                name='password'\r\n                label='Contraseña'\r\n                type='password'\r\n                autoComplete='current-password'\r\n                onChange = {OnChangeInput}\r\n              />\r\n              {\r\n                !validation.password \r\n                &&\r\n                <Typography variant='body2' className={classes.fieldWarning}>\r\n                * Contraseña no valida\r\n                </Typography>\r\n              }\r\n            </Grid>\r\n           \r\n          </Grid>\r\n\r\n          <Button\r\n            type='submit'\r\n            fullWidth\r\n            variant='contained'\r\n            color='secondary'\r\n            className={classes.submit}\r\n            disabled = {!validation.validated}\r\n          >\r\n            Regístrate ahora\r\n          </Button>\r\n        </form>\r\n      </div>\r\n      \r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default  SignUp;"]},"metadata":{},"sourceType":"module"}