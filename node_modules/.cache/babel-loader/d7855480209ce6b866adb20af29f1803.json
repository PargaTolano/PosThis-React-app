{"ast":null,"code":"import _slicedToArray from\"D:/Repositories/Visual C++/PosThis-React-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"D:/Repositories/Visual C++/PosThis-React-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React from'react';import{Redirect}from'react-router-dom';import{makeStyles}from'@material-ui/core/styles';import{NavBar}from'components/Inicio';import{PostCard,ReplyCard,CreateReplyForm}from'components/Post';import{routes}from'_utils';import{useGetDetailedPost}from'_hooks';import backapp3 from'assets/backapp3.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{Background:{backgroundImage:\"url('\".concat(backapp3,\"')\"),backgroundSize:'cover',backgroundPosition:'center',backgroundAttachment:'fixed',backgroundRepeat:'no-repeat',minHeight:'100vh'},cardHolder:{backgroundColor:'transparent',paddingTop:theme.spacing(4),paddingBottom:theme.spacing(2),marginLeft:'auto',marginRight:'auto',display:'flex',alignItems:'center',flexDirection:'column'},titleBegin:{postition:'sticky',display:'inline-block',top:'0',color:'white',fontFamily:'Arial',fontStyle:'normal',fontSize:30,width:'100%',paddingBottom:theme.spacing(3),textAlign:'center',flexDirection:'column'}};});export var PostDetail=function PostDetail(props){var _post$replies;var match=props.match,history=props.history,rest=_objectWithoutProperties(props,[\"match\",\"history\"]);var id=match.params.id;var classes=useStyles();var _useGetDetailedPost=useGetDetailedPost(id),_useGetDetailedPost2=_slicedToArray(_useGetDetailedPost,3),_useGetDetailedPost2$=_slicedToArray(_useGetDetailedPost2[0],2),ready=_useGetDetailedPost2$[0],post=_useGetDetailedPost2$[1],setPost=_useGetDetailedPost2[1],setReplies=_useGetDetailedPost2[2];if(id=='undefined'||id===undefined||id===null||id===''){return/*#__PURE__*/_jsx(Redirect,{to:routes.feed});}return/*#__PURE__*/_jsxs(\"div\",{className:classes.Background,children:[/*#__PURE__*/_jsx(NavBar,{history:history}),ready&&post&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{component:\"h4\",variant:\"h2\",className:classes.titleBegin,children:/*#__PURE__*/_jsx(\"strong\",{children:\"Detalle del post\"})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.cardHolder,children:[/*#__PURE__*/_jsx(PostCard,{post:post,history:history}),/*#__PURE__*/_jsx(CreateReplyForm,{postId:post===null||post===void 0?void 0:post.postID,setReplies:setReplies}),(_post$replies=post.replies)===null||_post$replies===void 0?void 0:_post$replies.map(function(reply,i){var first=i===0;var last=i===post.replies.length-1;return/*#__PURE__*/_jsx(ReplyCard,{reply:reply,first:first,last:last},reply.replyID);})]})]})]});};export default PostDetail;","map":{"version":3,"sources":["D:/Repositories/Visual C++/PosThis-React-app/src/components/PostDetail.js"],"names":["React","Redirect","makeStyles","NavBar","PostCard","ReplyCard","CreateReplyForm","routes","useGetDetailedPost","backapp3","useStyles","theme","Background","backgroundImage","backgroundSize","backgroundPosition","backgroundAttachment","backgroundRepeat","minHeight","cardHolder","backgroundColor","paddingTop","spacing","paddingBottom","marginLeft","marginRight","display","alignItems","flexDirection","titleBegin","postition","top","color","fontFamily","fontStyle","fontSize","width","textAlign","PostDetail","props","match","history","rest","id","params","classes","ready","post","setPost","setReplies","undefined","feed","postID","replies","map","reply","i","first","last","length","replyID"],"mappings":"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","sourcesContent":["import React                        from 'react';\r\nimport { Redirect }                 from 'react-router-dom';\r\n\r\nimport { makeStyles }               from '@material-ui/core/styles';\r\n\r\nimport { NavBar }                   from 'components/Inicio';\r\n\r\nimport {\r\n  PostCard,\r\n  ReplyCard, \r\n  CreateReplyForm\r\n} from 'components/Post';\r\n\r\nimport { routes }                   from '_utils';\r\nimport { useGetDetailedPost }       from '_hooks';\r\n\r\nimport backapp3                     from 'assets/backapp3.png';\r\n\r\nconst useStyles = makeStyles( ( theme ) => ({\r\n  Background: {\r\n    backgroundImage: `url('${backapp3}')`,\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center',\r\n    backgroundAttachment: 'fixed',\r\n    backgroundRepeat: 'no-repeat',\r\n    minHeight: '100vh',\r\n  },\r\n  cardHolder: {\r\n    backgroundColor: 'transparent',\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(2),\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    flexDirection: 'column',\r\n  },\r\n  titleBegin:{\r\n    postition: 'sticky',\r\n    display: 'inline-block',\r\n    top: '0',\r\n    color: 'white',\r\n    fontFamily: 'Arial',\r\n    fontStyle: 'normal',\r\n    fontSize: 30,\r\n    width: '100%',\r\n    paddingBottom: theme.spacing(3),\r\n    textAlign: 'center',\r\n    flexDirection:'column',\r\n  },\r\n}));\r\n\r\nexport const PostDetail = ( props ) => {\r\n  \r\n  const { match, history, ...rest } = props;\r\n  const { id }    = match.params;\r\n  const classes   = useStyles();\r\n\r\n  const [[ready, post], setPost, setReplies] = useGetDetailedPost( id );\r\n\r\n  if( id == 'undefined' || id === undefined || id === null || id === '' ){\r\n    return (<Redirect to={routes.feed}/>);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.Background}>\r\n      <NavBar history={history}/>\r\n\r\n    {\r\n      (ready && post )\r\n      &&\r\n      <>\r\n        <div component='h4' variant='h2' className={classes.titleBegin}>\r\n          <strong>Detalle del post</strong>\r\n        </div>\r\n        <div className={classes.cardHolder}>\r\n          <PostCard post={post} history={history}/>\r\n          <CreateReplyForm postId={post?.postID} setReplies={setReplies}/>\r\n          {\r\n            post.replies?.map((reply,i)=>{\r\n              \r\n              let first = i === 0;\r\n              let last  = i === post.replies.length - 1;\r\n              \r\n              return <ReplyCard key={reply.replyID} reply={reply} first={first} last={last} />;\r\n            })\r\n          }\r\n        </div>\r\n      </>\r\n    }\r\n      \r\n      \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostDetail;\r\n"]},"metadata":{},"sourceType":"module"}