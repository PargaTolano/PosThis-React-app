{"ast":null,"code":"import _objectSpread from\"D:/Repositories/Visual C++/PosThis-React-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/Repositories/Visual C++/PosThis-React-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"D:/Repositories/Visual C++/PosThis-React-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _defineProperty from\"D:/Repositories/Visual C++/PosThis-React-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useState,useEffect}from'react';import{makeStyles}from'@material-ui/core/styles';import{CircularProgress}from'@material-ui/core';import{ProfileCard}from'components/Profile';import{PostContainer}from'components/Inicio';import{CreatePostForm}from'components/Post';import{handleResponse}from'_helpers';import{authenticationService}from'_services';import{getUserFeed}from'_api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{width:'100%',maxWidth:'1200px',marginLeft:'auto',marginRight:'auto'},coverPic:_defineProperty({display:'inline-block',width:'100%',height:theme.spacing(50),objectFit:'cover',borderRadius:'0px 0px 10px 10px',marginBottom:theme.spacing(3)},theme.breakpoints.down('sm'),{marginBottom:theme.spacing(33)}),column:_defineProperty({position:'relative',width:'100%',paddingLeft:'30%'},theme.breakpoints.down('sm'),{paddingLeft:'0'})};});var coverPlaceholder='https://png.pngtree.com/thumb_back/fw800/background/20190220/ourmid/pngtree-blue-gradient-summer-creative-image_9270.jpg';export var ProfileContainer=function ProfileContainer(props){var user=props.user,rest=_objectWithoutProperties(props,[\"user\"]);var classes=useStyles();var _useState=useState({posts:[],loading:false}),_useState2=_slicedToArray(_useState,2),_useState2$=_useState2[0],posts=_useState2$.posts,loading=_useState2$.loading,setState=_useState2[1];var loadFeed=function loadFeed(){setState(function(x){var copy=_objectSpread({},x);copy.loading=true;return copy;});getUserFeed(user.id).then(handleResponse).then(function(res){var data=res.data;setState(function(x){var copy=_objectSpread({},x);copy.loading=false;copy.posts=data;return copy;});}).catch(console.warn);};useEffect(function(){loadFeed();},[user]);return/*#__PURE__*/_jsxs(_Fragment,{children:[loading&&/*#__PURE__*/_jsx(\"div\",{className:classes.loading,children:/*#__PURE__*/_jsx(CircularProgress,{color:\"primary\"})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(\"img\",{className:classes.coverPic,src:user.coverPicPath||coverPlaceholder}),/*#__PURE__*/_jsx(ProfileCard,_objectSpread({user:user},rest)),/*#__PURE__*/_jsxs(\"div\",{className:classes.column,children:[authenticationService.currentUserValue.id===user.id&&/*#__PURE__*/_jsx(CreatePostForm,_objectSpread({afterUpdate:loadFeed},rest)),/*#__PURE__*/_jsx(PostContainer,_objectSpread({posts:posts},rest))]})]})]});};export default ProfileContainer;","map":{"version":3,"sources":["D:/Repositories/Visual C++/PosThis-React-app/src/components/Profile/ProfileContainer.js"],"names":["React","useState","useEffect","makeStyles","CircularProgress","ProfileCard","PostContainer","CreatePostForm","handleResponse","authenticationService","getUserFeed","useStyles","theme","root","width","maxWidth","marginLeft","marginRight","coverPic","display","height","spacing","objectFit","borderRadius","marginBottom","breakpoints","down","column","position","paddingLeft","coverPlaceholder","ProfileContainer","props","user","rest","classes","posts","loading","setState","loadFeed","x","copy","id","then","res","data","catch","console","warn","coverPicPath","currentUserValue"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nimport { makeStyles }                 from '@material-ui/core/styles';\r\nimport { CircularProgress }           from '@material-ui/core';\r\n\r\nimport { ProfileCard }                from 'components/Profile';\r\nimport { PostContainer }              from 'components/Inicio';\r\nimport { CreatePostForm }             from 'components/Post';\r\n\r\nimport { handleResponse }             from '_helpers';\r\nimport { authenticationService }      from '_services';\r\nimport { getUserFeed }                from '_api';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root:{\r\n    width:        '100%',\r\n    maxWidth:     '1200px',\r\n    marginLeft:   'auto',\r\n    marginRight:  'auto'\r\n  },\r\n  coverPic:{\r\n    display: 'inline-block',\r\n    width: '100%',\r\n    height: theme.spacing( 50 ),\r\n    objectFit: 'cover',\r\n    borderRadius: '0px 0px 10px 10px',\r\n    marginBottom: theme.spacing( 3 ),\r\n    [theme.breakpoints.down('sm')]:{\r\n      marginBottom: theme.spacing( 33 ),\r\n    }\r\n  },\r\n  column:{\r\n    position:     'relative',\r\n    width:        '100%',\r\n    paddingLeft:  '30%',\r\n    [theme.breakpoints.down('sm')]:{\r\n      paddingLeft: '0'\r\n    }\r\n  }\r\n}));\r\n\r\nconst coverPlaceholder = 'https://png.pngtree.com/thumb_back/fw800/background/20190220/ourmid/pngtree-blue-gradient-summer-creative-image_9270.jpg';\r\n\r\nexport const ProfileContainer = ( props ) => {\r\n  const { user, ...rest } = props;\r\n  const classes = useStyles();\r\n\r\n  \r\n  const [{ posts, loading }, setState] = useState({\r\n    posts: [],\r\n    loading: false\r\n  });\r\n\r\n  const loadFeed = ()=>{\r\n    \r\n    setState(x=>{\r\n      let copy = {...x};\r\n      copy.loading = true;\r\n      return copy;\r\n    });\r\n\r\n    getUserFeed(user.id)\r\n      .then(handleResponse)\r\n      .then(res=>{\r\n        const { data } = res;\r\n        setState(x=>{\r\n          let copy = {...x};\r\n          copy.loading = false;\r\n          copy.posts = data;\r\n          return copy;\r\n        });\r\n      })\r\n      .catch(console.warn);\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadFeed();\r\n  },[user]);\r\n\r\n  return (\r\n      <>\r\n        {\r\n          loading &&\r\n          <div className={classes.loading}>\r\n            <CircularProgress color='primary'/>\r\n          </div>\r\n        }\r\n        <div className={classes.root}>\r\n\r\n          <img className={classes.coverPic} src={ user.coverPicPath || coverPlaceholder } />\r\n\r\n          <ProfileCard user={user} {...rest}/>\r\n          <div className={classes.column}>\r\n\r\n            {\r\n              ( authenticationService.currentUserValue.id === user.id ) && <CreatePostForm afterUpdate={loadFeed} {...rest}/>\r\n            }\r\n\r\n            <PostContainer posts={posts} {...rest}/>\r\n          </div>\r\n          \r\n        </div>\r\n      </>\r\n  );\r\n}\r\nexport default ProfileContainer;"]},"metadata":{},"sourceType":"module"}